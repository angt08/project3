{"ast":null,"code":"import axios from 'axios';\nconst api = axios.create({\n  baseURL: \"http://localhost:3001\"\n}); // ============== Auth ================\n\nexport const registerUser = async registerData => {\n  try {\n    const resp = await api.post('/auth/register', registerData);\n    api.defaults.headers.common.authorization = \"Bearer \".concat(resp.data.token);\n    localStorage.authToken = resp.data.token;\n    return resp.data.user;\n  } catch (err) {\n    return {\n      error: \"Invalid credentials\"\n    };\n  }\n};\nexport const loginUser = async loginData => {\n  try {\n    const resp = await api.post('/auth/login', loginData);\n    api.defaults.headers.common.authorization = \"Bearer \".concat(resp.data.token);\n    localStorage.authToken = resp.data.token;\n    return resp.data.user;\n  } catch (err) {\n    return {\n      error: \"Invalid credentials\"\n    };\n  }\n};\nexport const verifyUser = async () => {\n  const token = localStorage.authToken;\n\n  if (token) {\n    api.defaults.headers.common.authorization = \"Bearer \".concat(token);\n    const resp = await api.get('/auth/verify');\n    return resp.data;\n  }\n\n  return false;\n}; /////////GiftList//////////////\n// Get All Gift Lists for a logged in user\n\nexport const getGiftListsByUser = async userId => {\n  try {\n    const resp = await api.get(\"/giftlists/\".concat(userId, \"/\"));\n    return resp.data.giftlists;\n  } catch (err) {\n    return {\n      error: \"Unable to retrieve gift lists\"\n    };\n  }\n}; ////// CREATE GIFT LIST ////\n\nexport const postGiftList = async (userId, giftListData) => {\n  const resp = await api.post(\"/users/\".concat(userId, \"/giftlists\"), giftListData);\n  return resp.data.giftlist;\n};\nexport const getGiftsByGiftList = async id => {\n  try {\n    const resp = await api.get(\"giftlists/\".concat(id, \"/gifts/\"));\n    return resp.data.gifts;\n  } catch (err) {\n    return {\n      error: \"Unable to retrieve gifts\"\n    };\n  }\n}; ////// UPDATE GIFT LIST ////\n\nexport const putGiftList = async (id, giftListData) => {\n  const resp = await api.put(\"/giftlists/\".concat(id), giftListData);\n  return resp.data.giftlist;\n}; ////// delete GIFT LIST ////\n\nexport const deleteGiftList = async id => {\n  const resp = await api.delete(\"/giftlists/\".concat(id));\n  return resp.data;\n}; ////// CREATE GIFT ////\n\nexport const postGift = async (giftListId, giftData) => {\n  const resp = await api.post(\"/giftlists/\".concat(giftListId, \"/gifts\"), giftData);\n  return resp.data.gift;\n}; ////// CREATE GIFT ////\n\nexport const putGift = async (giftId, giftData) => {\n  const resp = await api.put(\"/giftlists/anything/gifts/\".concat(giftId), giftData);\n  return resp.data.gift;\n}; ////// CREATE GIFT ////\n\nexport const deleteGift = async (giftId, giftData) => {\n  const resp = await api.put(\"/giftlists/anything/gifts/\".concat(giftId), giftData);\n  return resp.data.gift;\n};","map":{"version":3,"sources":["/Users/bengrzybowski/sei/week8/project3/client/src/services/api-helper.js"],"names":["axios","api","create","baseURL","registerUser","registerData","resp","post","defaults","headers","common","authorization","data","token","localStorage","authToken","user","err","error","loginUser","loginData","verifyUser","get","getGiftListsByUser","userId","giftlists","postGiftList","giftListData","giftlist","getGiftsByGiftList","id","gifts","putGiftList","put","deleteGiftList","delete","postGift","giftListId","giftData","gift","putGift","giftId","deleteGift"],"mappings":"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","sourcesContent":["import axios from 'axios';\nconst api = axios.create({\n  baseURL: \"http://localhost:3001\"\n})\n\n// ============== Auth ================\nexport const registerUser = async (registerData) => {\n  try {\n    const resp = await api.post('/auth/register', registerData);\n    api.defaults.headers.common.authorization = `Bearer ${resp.data.token}`;\n    localStorage.authToken = resp.data.token;\n    return resp.data.user;\n  }\n  catch (err) {\n    return { error: \"Invalid credentials\" }\n  }\n}\nexport const loginUser = async (loginData) => {\n  try {\n    const resp = await api.post('/auth/login', loginData);\n    api.defaults.headers.common.authorization = `Bearer ${resp.data.token}`;\n    localStorage.authToken = resp.data.token;\n    return resp.data.user;\n  }\n  catch (err) {\n    return { error: \"Invalid credentials\" }\n  }\n}\nexport const verifyUser = async () => {\n  const token = localStorage.authToken;\n  if (token) {\n    api.defaults.headers.common.authorization = `Bearer ${token}`;\n    const resp = await api.get('/auth/verify');\n    return resp.data;\n  }\n  return false;\n}\n/////////GiftList//////////////\n// Get All Gift Lists for a logged in user\nexport const getGiftListsByUser = async (userId) => {\n  try {\n    const resp = await api.get(`/giftlists/${userId}/`);\n    return resp.data.giftlists;\n  }\n  catch (err) {\n    return { error: \"Unable to retrieve gift lists\" }\n  }\n}\n\n////// CREATE GIFT LIST ////\nexport const postGiftList = async (userId, giftListData) => {\n  const resp = await api.post(`/users/${userId}/giftlists`, giftListData)\n  return resp.data.giftlist\n}\n\nexport const getGiftsByGiftList = async (id) => {\n  try {\n    const resp = await api.get(`giftlists/${id}/gifts/`);\n    return resp.data.gifts;\n  }\n  catch (err) {\n    return { error: \"Unable to retrieve gifts\" }\n  }\n}\n////// UPDATE GIFT LIST ////\nexport const putGiftList = async (id, giftListData) => {\n  const resp = await api.put(`/giftlists/${id}`, giftListData)\n  return resp.data.giftlist\n}\n////// delete GIFT LIST ////\nexport const deleteGiftList = async (id) => {\n  const resp = await api.delete(`/giftlists/${id}`);\n  return resp.data;\n}\n\n////// CREATE GIFT ////\nexport const postGift = async (giftListId, giftData) => {\n  const resp = await api.post(`/giftlists/${giftListId}/gifts`, giftData)\n  return resp.data.gift\n}\n////// CREATE GIFT ////\nexport const putGift = async (giftId, giftData) => {\n  const resp = await api.put(`/giftlists/anything/gifts/${giftId}`, giftData)\n  return resp.data.gift\n}\n////// CREATE GIFT ////\nexport const deleteGift = async (giftId, giftData) => {\n  const resp = await api.put(`/giftlists/anything/gifts/${giftId}`, giftData)\n  return resp.data.gift\n}"]},"metadata":{},"sourceType":"module"}